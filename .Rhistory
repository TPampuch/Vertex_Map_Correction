read.csv("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.csv")
read.csv("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.csv")
read.csv("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.csv", header = T)
read.csv("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.csv", header = F)
adat <- read.csv("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.csv")
head(adat)
adat$X.m. - 7060000
head(adat)
adat$Y.m. <- adat$Y.m. - 400000
head(adat)
adat$X.m. <- adat$X.m. - 7060000
plot(X.m. ~ Y.m., dat = adat)
adat <- read.csv("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.csv")
head(adat)
adat$X.m. <- adat$X.m. - 7565150
adat$Y.m. <- adat$Y.m. - 418564
plot(X.m. ~ Y.m., dat = adat)
adat <- read.csv("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.csv")
head(adat)
adat$X.m. <- adat$X.m. - 6565150
adat$Y.m. <- adat$Y.m. - 318564
plot(X.m. ~ Y.m., dat = adat)
head(adat)
write.table("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.txt")
write.table(adat, "D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.txt")
head(adat)
dat.new <- VMC::VMC(adat)
head(adat)
?VMC::VMC
read.table("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.txt")
adat <- read.table("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.txt")
head(adat)
dat.new <- VMC::VMC(adat, Base_ID = "base", plot = FALSE, limit = 20, Tree_ID = "Tree_ID")
dat.new <- VMC::VMC(adat, Base_ID = "base", plot = FALSE, limit = 20, Tree_ID = "Tree_ID")[1]
dat.new <- VMC::VMC(adat, Base_ID = "base", plot = FALSE, limit = 20, Tree_ID = "Tree_ID")[[1]]
head(dat.new)
unique(dat.new$TreeID)
table(dat.new$TreeID)
data <- VMC::VMC(adat, Base_ID = "base", plot = FALSE, limit = 20, Tree_ID = "Tree_ID")[[1]]
head(dat.new)
overlaps <- names(which(table(data$TreeID) > 1))
overlaps
data[c(overlaps),"TreeID"]
data[,"TreeID"]
data[which(data$TreeID %in% overlaps),]
data[which(data$TreeID %in% overlaps),c("X.m.","Y.m.")]
i=1
data[which(data$TreeID == overlaps[i]),c("X.m.","Y.m.")]
mean(data[which(data$TreeID == overlaps[i]),c("X.m.","Y.m.")])
col.mean(data[which(data$TreeID == overlaps[i]),c("X.m.","Y.m.")])
colMeans(data[which(data$TreeID == overlaps[i]),c("X.m.","Y.m.")])
data[which(data$TreeID == overlaps[i]),c("X.m.","Y.m.")]
new.row = data[which(data$TreeID == overlaps[i]),]
new.row
means = colMeans(data[which(data$TreeID == overlaps[i]),c("X.m.","Y.m.")])
dat.new
new = data[which(data$TreeID == overlaps[i]),1]
new = data[which(data$TreeID == overlaps[i])]
new = data[which(data$TreeID == overlaps[i]),]
new = data[which(data$TreeID == overlaps[i]),][1,]
new
new$Y.m. = means[2]
new$X.m. = means[1]
dat[which(data$TreeID == overlaps[i])]
data[which(data$TreeID == overlaps[i])]
data[which(data$TreeID == overlaps[i]),]
del <- which(data$TreeID == overlaps[i])
length(del)
del <- del[2:length(del)]
del <- which(data$TreeID == overlaps[i])
keep <- del[1]
del <- del[2:length(del)]
data[-del,]
adat <- read.table("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.txt")
head(adat)
data <- VMC::VMC(adat, Base_ID = "base", plot = FALSE, limit = 20, Tree_ID = "Tree_ID")[[1]]
head(dat.new)
overlaps <- names(which(table(data$TreeID) > 1))
overlaps
means = colMeans(data[which(data$TreeID == overlaps[i]),c("X.m.","Y.m.")])
new = data[which(data$TreeID == overlaps[i]),][1,]
new$X.m. = means[1]
new$Y.m. = means[2]
del <- which(data$TreeID == overlaps[i])
keep <- del[1]
del <- del[2:length(del)]
dat
new[1,]
new
data[keep,] = new
data = data[-del,]
for(i in 1:length(overlaps)){
means = colMeans(data[which(data$TreeID == overlaps[i]),c("X.m.","Y.m.")])
new = data[which(data$TreeID == overlaps[i]),][1,]
new$X.m. = means[1]
new$Y.m. = means[2]
del <- which(data$TreeID == overlaps[i])
keep <- del[1]
del <- del[2:length(del)]
data[keep,] = new
data = data[-del,]
}
i=2
means = colMeans(data[which(data$TreeID == overlaps[i]),c("X.m.","Y.m.")])
new = data[which(data$TreeID == overlaps[i]),][1,]
new$X.m. = means[1]
new$Y.m. = means[2]
del <- which(data$TreeID == overlaps[i])
adat <- read.table("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.txt")
head(adat)
data <- VMC::VMC(adat, Base_ID = "base", plot = FALSE, limit = 20, Tree_ID = "Tree_ID")[[1]]
head(dat.new)
overlaps <- names(which(table(data$TreeID) > 1))
overlaps
for(i in 1:length(overlaps)){
means = colMeans(data[which(data$TreeID == overlaps[i]),c("X.m.","Y.m.")])
new = data[which(data$TreeID == overlaps[i]),][1,]
new$X.m. = means[1]
new$Y.m. = means[2]
del <- which(data$TreeID == overlaps[i])
keep <- del[1]
del <- del[2:length(del)]
data[keep,] = new
data = data[-del,]
}
adat <- read.table("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.txt")
save(expl, "D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.RData")
?save
save(expl, file = "D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.RData")
save(adat, file = "D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.RData")
load("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.RData")
rm(list = ls())
load("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.RData")
map1 <- adat
map <- adat
save(map, "D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.RData")
save(map, file = "D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.RData")
rm(list = ls())
load("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/expl.RData")
head(map)
save(map, file = "D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/map.RData")
VMC::VMC(map, Base_ID = "base", plot = TRUE, limit = 20, Tree_ID = "Tree_ID")
head(map)
VMC::VMC(map, Base_ID = "base", plot = TRUE, limit = 20, Tree_ID = "Tree_ID", Tree_DBH = "DBH_cm")
dat <- VMC::VMC(map, Base_ID = "base", plot = TRUE, limit = 20, Tree_ID = "Tree_ID", Tree_DBH = "DBH_cm")
library(VMC)
VM.mean.offset
VM.mean.offset(map)
VM.mean.offset(map, Base_ID = "base", Tree_ID = "Tree_ID")
rm(list = ls())
devtools::install_github("TPampuch/Vertex_Map_Correction")
head(map)
library(VMC)
?VMC
?VM.mean.offset
load("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/map.RData")
head(map)
VM.mean.offset(map, Base_ID = "base", Tree_ID = "Tree_ID")
dat <- VMC::VMC(map, Base_ID = "base", plot = F, limit = 20, Tree_ID = "Tree_ID")[[1]] # its still returning a list. I'll remove this inconvenience in the next version
VM.mean.offset(dat, Base_ID = "base", Tree_ID = "Tree_ID")
source("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/R/merge.R")
head(map)
merge.refs(dat, Tree_ID = "Tree_ID")
source("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/R/merge.R")
merge.refs(dat, Tree_ID = "Tree_ID")
dat.clean <- merge.refs(dat, Tree_ID = "Tree_ID")
library(ggplot2)
library(ggrepel)
ggplot2::ggplot(dat.clean, ggplot2::aes(x = Y.m., y = X.m.))+
ggplot2::geom_point(ggplot2::aes(color = as.factor(base), size = DBH_cm))+
ggplot2::theme_light()+
ggrepel::geom_text_repel(ggplot2::aes(label=TreeID), cex = 2)+
ggplot2::labs(x = "X", y = "Y", title = "After")
dat.clean
source("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/R/offset.R")
VM.mean.offset(dat, Base_ID = "base", Tree_ID = "Tree_ID")
source("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/R/VMC.R")
library(VMC)
library(ggplot2)
library(ggrepel)
load("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/data/map.RData")
head(map)
VM.mean.offset(map, Base_ID = "base", Tree_ID = "Tree_ID")
dat <- VMC::VMC(map, Base_ID = "base", plot = F, limit = 20, Tree_ID = "Tree_ID")[[1]] # its still returning a list. I'll remove this inconvenience in the next version
VM.mean.offset(dat, Base_ID = "base", Tree_ID = "Tree_ID")
dat.clean <- merge.refs(dat, Tree_ID = "Tree_ID")
head(dat.clean)
head(map)
head(dat)
source("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/R/offset.R")
source("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/R/VMC.R")
dat <- VMC::VMC(map, Base_ID = "base", plot = F, limit = 20, Tree_ID = "Tree_ID")[[1]] # its still returning a list. I'll remove this inconvenience in the next version
head(dat)
ggplot2::ggplot(dat.clean, ggplot2::aes(x = Y.m., y = X.m.))+
ggplot2::geom_point(ggplot2::aes(color = as.factor(Base), size = DBH_cm))+
ggplot2::theme_light()+
ggrepel::geom_text_repel(ggplot2::aes(label=TreeID), cex = 2)+
ggplot2::labs(x = "X", y = "Y", title = "After")
head(dat.clean)
ggplot2::ggplot(dat.clean, ggplot2::aes(x = Y.m., y = X.m.))+
ggplot2::geom_point(ggplot2::aes(color = as.factor(Base), size = DBH_cm))+
ggplot2::theme_light()+
ggrepel::geom_text_repel(ggplot2::aes(label=Tree_ID), cex = 2)+
ggplot2::labs(x = "X", y = "Y", title = "After")
ggplot2::ggplot(dat.clean, ggplot2::aes(x = Y.m., y = X.m.))+
ggplot2::geom_point(ggplot2::aes(color = as.factor(Base), size = DBH_cm))+
ggplot2::theme_light()+
ggrepel::geom_text_repel(ggplot2::aes(label=Tree_ID), cex = 2)+
ggplot2::labs(x = "X", y = "Y", title = "tidy map")
usethis::use_data(map, VMC)
devtools::document()
setwd("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/")
devtools::document()
rm(list = ls())
setwd("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/")
devtools::document()
devtools::build()
setwd("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/")
devtools::document()
devtools::build()
library(roxygen2)
setwd("D:/PhD stuff/R-Space/Map Correction Vertex LaserGeo 360/VMC/")
devtools::document()
devtools::document()
rm(list = ls())
devtools::install_github("TPampuch/Vertex_Map_Correction")
